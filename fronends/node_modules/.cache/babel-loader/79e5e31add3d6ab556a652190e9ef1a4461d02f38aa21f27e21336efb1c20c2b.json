{"ast":null,"code":"var _jsxFileName = \"D:\\\\assigment\\\\fronend\\\\src\\\\components\\\\DashboardChart.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DashboardChart = () => {\n  _s();\n  const [chartOptions, setChartOptions] = useState({});\n  useEffect(() => {\n    // Fetch data from your API\n    const fetchData = async () => {\n      try {\n        const response = await fetch('http://localhost:3001/dashboard/chart');\n        const data = await response.json();\n        console.warn(data);\n        const totalProjectsValue = data[0].TotalProjects; // This will be 22\n\n        // Accessing values at index 1\n        const closedProjectsValue = data[1].ClosedProjects;\n        console.warn(totalProjectsValue);\n        console.warn(closedProjectsValue);\n\n        // Process data and update chartOptions \n        const processedData = processData(data);\n        setChartOptions(processedData);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    fetchData();\n  }, []);\n  const processData = data => {\n    // Process data to match Highcharts series format\n    // Example structure: [{ name: 'Strategy', data: [14, 19] }, { name: 'Finance', data: [6, 7] }]\n    const processedData = data.map(department => ({\n      name: department.name,\n      data: [department.closedProjectsValue, department.totalProjectsValue]\n    }));\n    // console.warn(processedData);\n    return {\n      chart: {\n        type: 'column'\n      },\n      title: {\n        text: 'Department-wise Success Percentage'\n      },\n      xAxis: {\n        categories: ['Closed Projects', 'Total Projects']\n      },\n      yAxis: {\n        title: {\n          text: 'Percentage'\n        }\n      },\n      series: processedData\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(HighchartsReact, {\n    highcharts: Highcharts,\n    options: chartOptions\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 10\n  }, this);\n};\n_s(DashboardChart, \"fv6KnzSiptE7es9ANfZo/pjNm0M=\");\n_c = DashboardChart;\nexport default DashboardChart;\nvar _c;\n$RefreshReg$(_c, \"DashboardChart\");","map":{"version":3,"names":["useEffect","useState","Highcharts","HighchartsReact","jsxDEV","_jsxDEV","DashboardChart","_s","chartOptions","setChartOptions","fetchData","response","fetch","data","json","console","warn","totalProjectsValue","TotalProjects","closedProjectsValue","ClosedProjects","processedData","processData","error","map","department","name","chart","type","title","text","xAxis","categories","yAxis","series","highcharts","options","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/assigment/fronend/src/components/DashboardChart.js"],"sourcesContent":["\r\nimport { useEffect, useState } from 'react';\r\nimport Highcharts from 'highcharts';\r\nimport HighchartsReact from 'highcharts-react-official';\r\n\r\n\r\nconst DashboardChart = () => {\r\n  const [chartOptions, setChartOptions] = useState({});\r\n\r\n  useEffect(() => {\r\n    // Fetch data from your API\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch('http://localhost:3001/dashboard/chart');\r\n        const data = await response.json();\r\n        console.warn(data)\r\n        const totalProjectsValue = data[0].TotalProjects; // This will be 22\r\n\r\n// Accessing values at index 1\r\n        const closedProjectsValue = data[1].ClosedProjects;\r\n        console.warn(totalProjectsValue)\r\n        console.warn(closedProjectsValue)\r\n\r\n        // Process data and update chartOptions \r\n        const processedData = processData(data);\r\n        \r\n        setChartOptions(processedData);\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const processData = (data) => {\r\n    // Process data to match Highcharts series format\r\n    // Example structure: [{ name: 'Strategy', data: [14, 19] }, { name: 'Finance', data: [6, 7] }]\r\n    const processedData = data.map((department) => ({\r\n      name: department.name,\r\n      data: [department.closedProjectsValue, department.totalProjectsValue],\r\n      \r\n    }));\r\n    // console.warn(processedData);\r\n    return {\r\n      chart: {\r\n        type: 'column',\r\n      },\r\n      title: {\r\n        text: 'Department-wise Success Percentage',\r\n      },\r\n      xAxis: {\r\n        categories: ['Closed Projects', 'Total Projects'],\r\n      },\r\n      yAxis: {\r\n        title: {\r\n          text: 'Percentage',\r\n        },\r\n      },\r\n      series: processedData,\r\n    };\r\n  };\r\n\r\n\r\n\r\n  return <HighchartsReact highcharts={Highcharts} options={chartOptions} />;\r\n};\r\n\r\nexport default DashboardChart;\r\n"],"mappings":";;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,eAAe,MAAM,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGxD,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEpDD,SAAS,CAAC,MAAM;IACd;IACA,MAAMU,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,uCAAuC,CAAC;QACrE,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;QAClCC,OAAO,CAACC,IAAI,CAACH,IAAI,CAAC;QAClB,MAAMI,kBAAkB,GAAGJ,IAAI,CAAC,CAAC,CAAC,CAACK,aAAa,CAAC,CAAC;;QAE1D;QACQ,MAAMC,mBAAmB,GAAGN,IAAI,CAAC,CAAC,CAAC,CAACO,cAAc;QAClDL,OAAO,CAACC,IAAI,CAACC,kBAAkB,CAAC;QAChCF,OAAO,CAACC,IAAI,CAACG,mBAAmB,CAAC;;QAEjC;QACA,MAAME,aAAa,GAAGC,WAAW,CAACT,IAAI,CAAC;QAEvCJ,eAAe,CAACY,aAAa,CAAC;MAChC,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdR,OAAO,CAACQ,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;IACF,CAAC;IAEDb,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMY,WAAW,GAAIT,IAAI,IAAK;IAC5B;IACA;IACA,MAAMQ,aAAa,GAAGR,IAAI,CAACW,GAAG,CAAEC,UAAU,KAAM;MAC9CC,IAAI,EAAED,UAAU,CAACC,IAAI;MACrBb,IAAI,EAAE,CAACY,UAAU,CAACN,mBAAmB,EAAEM,UAAU,CAACR,kBAAkB;IAEtE,CAAC,CAAC,CAAC;IACH;IACA,OAAO;MACLU,KAAK,EAAE;QACLC,IAAI,EAAE;MACR,CAAC;MACDC,KAAK,EAAE;QACLC,IAAI,EAAE;MACR,CAAC;MACDC,KAAK,EAAE;QACLC,UAAU,EAAE,CAAC,iBAAiB,EAAE,gBAAgB;MAClD,CAAC;MACDC,KAAK,EAAE;QACLJ,KAAK,EAAE;UACLC,IAAI,EAAE;QACR;MACF,CAAC;MACDI,MAAM,EAAEb;IACV,CAAC;EACH,CAAC;EAID,oBAAOhB,OAAA,CAACF,eAAe;IAACgC,UAAU,EAAEjC,UAAW;IAACkC,OAAO,EAAE5B;EAAa;IAAA6B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC3E,CAAC;AAACjC,EAAA,CA5DID,cAAc;AAAAmC,EAAA,GAAdnC,cAAc;AA8DpB,eAAeA,cAAc;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}